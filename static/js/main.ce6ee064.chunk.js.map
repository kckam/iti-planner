{"version":3,"sources":["actions/index.ts","components/Cards.tsx","hooks/hooks.ts","page/Home.tsx","page/Cart.tsx","components/styles/Global.tsx","components/Header.tsx","components/Footer.tsx","App.tsx","reducers/index.ts","index.tsx"],"names":["addToCart","id","type","payload","loadExistingCards","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","getState","data","wrap","_context","prev","next","localforage","getItem","sent","stop","_x","_x2","apply","this","arguments","nextDay","prevDay","StyledCards","styled","ul","_templateObject","taggedTemplateLiteral","to","i","x","y","scale","rot","delay","from","_i","Cards","setLoaded","loaded","_useSprings","useSprings","length","objectSpread","_useSprings2","slicedToArray","cardProps","cardApi","useDispatch","bind","useDrag","_ref2","index","args","down","mx","movement","xDir","direction","velocity","trigger","dir","start","boundWidth","document","querySelector","isGone","offsetWidth","undefined","config","friction","tension","console","log","useEffect","Math","random","react_default","a","createElement","map","styles","react_spring_esm","li","assign","key","concat","className","style","transform","interpolate","r","s","src","useAppDispatch","useAppSelector","useSelector","StyledHome","section","Home_templateObject","Home","_useState","useState","_useState2","cards","state","props","components_Cards","Cart","GlobalStyles","createGlobalStyle","Global_templateObject","theme","body","text","StyledHeader","header","Header_templateObject","Header","cart","onClick","findIndex","el","active","StyledFooter","Footer_templateObject","Footer","nav","setNav","keys","NAV","lightTheme","HOME","CART","App","transition","useTransition","opacity","enter","leave","display","styled_components_browser_esm","Global","components_Header","item","div","page_Home","page_Cart","components_Footer","defaultCardsState","label","defaultCartsState","combineReducers","action","result","toConsumableArray","setItem","nextIndex","prevIndex","__webpack_require__","d","__webpack_exports__","store","root","ReactDOM","createRoot","getElementById","configureStore","reducer","reducers","middleware","thunk","render","es","src_App"],"mappings":"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","file":"static/js/main.ce6ee064.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport localforage from \"localforage\";\r\n\r\nexport const selectCard = (card: any) => {\r\n  return {\r\n    type: \"CARD_SELECTED\",\r\n    payload: card,\r\n  };\r\n};\r\n\r\nexport const removeCard = () => {\r\n  return {\r\n    type: \"REMOVE_CARD\",\r\n  };\r\n};\r\n\r\nexport const addToCart = (id: string | number) => {\r\n  return {\r\n    type: \"ADD_TO_CART\",\r\n    payload: id,\r\n  };\r\n};\r\n\r\nexport const loadExistingCards = () => {\r\n  return async (dispatch: any, getState: any) => {\r\n    let data = await localforage.getItem(\"cards\");\r\n\r\n    dispatch({\r\n      type: \"LOAD_CARDS\",\r\n      payload: data,\r\n    });\r\n  };\r\n};\r\n\r\nexport const nextDay = () => {\r\n  return {\r\n    type: \"NEXT_DAY\",\r\n  };\r\n};\r\n\r\nexport const prevDay = () => {\r\n  return {\r\n    type: \"PREV_DAY\",\r\n  };\r\n};\r\n\r\nexport const getTodos = () => {\r\n  return async (dispatch: any, getState: any) => {\r\n    let { data } = await axios.get(\r\n      \"https://jsonplaceholder.typicode.com/todos\"\r\n    );\r\n\r\n    dispatch({\r\n      type: \"GET_TODOS\",\r\n      payload: data,\r\n    });\r\n  };\r\n};\r\n","import React, { useEffect, Dispatch, SetStateAction } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  useTransition,\r\n  animated,\r\n  useSpring,\r\n  useTrail,\r\n  useSprings,\r\n  to as interpolate,\r\n} from \"react-spring\";\r\nimport { useDrag } from \"react-use-gesture\";\r\nimport { addToCart } from \"../actions\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\ninterface CardsProps {\r\n  data: string[];\r\n  loaded: boolean;\r\n  setLoaded: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nconst StyledCards = styled.ul`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: hidden;\r\n\r\n  .iti-cards__item {\r\n    position: absolute;\r\n    background: #fff;\r\n    height: 510px;\r\n    width: 300px;\r\n    max-width: 90%;\r\n    max-height: 90%;\r\n    padding: 1rem;\r\n    border-radius: 10px;\r\n    will-change: transform;\r\n    touch-action: none;\r\n\r\n    img {\r\n      user-drag: none;\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n    }\r\n\r\n    &:nth-child(-n + 5) {\r\n      box-shadow: 0 12.5px 100px -10px rgb(50 50 73 / 40%),\r\n        0 10px 10px -10px rgb(50 50 73 / 30%);\r\n    }\r\n  }\r\n`;\r\n\r\nconst to = (i: number) => ({\r\n  x: 0,\r\n  y: (i % 10) * -4,\r\n  scale: 1,\r\n  rot: 0,\r\n  delay: i * 100 + 1000,\r\n});\r\nconst from = (_i: number) => ({ x: 0, rot: 0, scale: 1.5, y: -1000 });\r\n\r\nfunction Cards({ data, setLoaded, loaded }: CardsProps) {\r\n  const [cardProps, cardApi] = useSprings(data.length, (i) => ({\r\n    ...to(i),\r\n    from: from(i),\r\n  }));\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const bind = useDrag(\r\n    ({ args: [index], down, movement: [mx], direction: [xDir], velocity }) => {\r\n      const trigger = velocity > 0.01;\r\n      const dir = xDir < 0 ? -1 : 1;\r\n\r\n      cardApi.start((i) => {\r\n        if (index !== i) return;\r\n        let boundWidth: HTMLElement =\r\n          document.querySelector(\".category__item\")!;\r\n        const isGone = !down && trigger;\r\n        const x = isGone ? (200 + boundWidth.offsetWidth) * dir : down ? mx : 0;\r\n        const rot = mx / 100 + (isGone ? dir * 100 * velocity : 0);\r\n        const scale = down ? 1.1 : 1;\r\n\r\n        if (isGone && dir > 0) {\r\n          dispatch(addToCart(i));\r\n        }\r\n\r\n        return {\r\n          x,\r\n          rot,\r\n          scale,\r\n          delay: undefined,\r\n          config: {\r\n            friction: 50,\r\n            tension: down ? 800 : isGone ? 200 : 500,\r\n          },\r\n        };\r\n      });\r\n      console.log(xDir);\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    //Animate card for first time\r\n    if (loaded) {\r\n      cardApi.start((i) => ({\r\n        from: {\r\n          x: 0,\r\n          y: 0,\r\n          scale: 1,\r\n          rot: -10 + Math.random() * 20,\r\n          // delay: i * 100,\r\n        },\r\n      }));\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    setLoaded(true);\r\n  }, []);\r\n\r\n  return (\r\n    <StyledCards>\r\n      {cardProps.map((styles, index) => {\r\n        return (\r\n          <animated.li\r\n            {...bind(index)}\r\n            key={`${Math.random()}`}\r\n            className=\"iti-cards__item\"\r\n            style={{\r\n              ...styles,\r\n              transform: interpolate(\r\n                [styles.rot, styles.scale],\r\n                (r, s) =>\r\n                  `rotateX(30deg) rotateY(${r / 10}deg) rotateZ(${r}deg) `\r\n              ),\r\n            }}\r\n          >\r\n            <img src={data[index]} />\r\n          </animated.li>\r\n        );\r\n      })}\r\n    </StyledCards>\r\n  );\r\n}\r\n\r\nexport default Cards;\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport type { RootState, AppDispatch } from \"../index\";\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { animated, useSprings } from \"react-spring\";\r\nimport Cards from \"../components/Cards\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useAppSelector } from \"../hooks/hooks\";\r\nimport { NAV } from \"../App\";\r\n\r\nconst StyledHome = styled.section`\r\n  position: relative;\r\n  height: calc(100vh - 100px);\r\n  padding: 1rem;\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n\r\n  img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n  .category {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(300px, 450px));\r\n    grid-gap: 1rem;\r\n    justify-content: center;\r\n    margin: auto 0;\r\n\r\n    @media only screen and (max-width: 600px) {\r\n      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n    }\r\n\r\n    &__item {\r\n      text-align: center;\r\n      border: 1px solid red;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      height: 500px;\r\n      will-change: transform;\r\n      /* padding: 50% 1rem; */\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Home() {\r\n  const [loaded, setLoaded] = useState(false);\r\n  const cards = useAppSelector((state) => state.cards);\r\n\r\n  const [props, api2] = useSprings(cards.length, (i) => ({\r\n    from: {\r\n      scale: 0.8,\r\n    },\r\n    to: {\r\n      scale: 1,\r\n    },\r\n    delay: i * 100 + 500,\r\n  }));\r\n\r\n  return (\r\n    <StyledHome>\r\n      <animated.ul\r\n        className=\"category\"\r\n        // onClick={() => {\r\n        //     setCategories((prev) => {\r\n        //         return prev.map((el, index) => {\r\n        //             return index === 0\r\n        //                 ? {\r\n        //                       ...el,\r\n        //                       cards: [\r\n        //                           ...new Array(10).fill(\r\n        //                               \"https://upload.wikimedia.org/wikipedia/commons/d/de/RWS_Tarot_01_Magician.jpg\"\r\n        //                           ),\r\n        //                           ...el.cards,\r\n        //                       ],\r\n        //                   }\r\n        //                 : el;\r\n        //         });\r\n        //     });\r\n        // }}\r\n      >\r\n        {props.map((styles, index) => (\r\n          <animated.li\r\n            className=\"category__item\"\r\n            style={styles}\r\n            // onClick={() => {\r\n            //   api2.start((i) => {\r\n            //     if (index !== i) return;\r\n\r\n            //     return {\r\n            //       to: {\r\n            //         backgroundColor: \"green\",\r\n            //       },\r\n            //     };\r\n            //   });\r\n            // }}\r\n          >\r\n            <Cards\r\n              data={cards[index].cards}\r\n              loaded={loaded}\r\n              setLoaded={setLoaded}\r\n            />\r\n          </animated.li>\r\n        ))}\r\n      </animated.ul>\r\n    </StyledHome>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\n\r\nfunction Cart() {\r\n  return <div>123</div>;\r\n}\r\n\r\nexport default Cart;\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\ndeclare module \"styled-components\" {\r\n    export interface DefaultTheme {\r\n        body: string;\r\n        text: string;\r\n    }\r\n}\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n@import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400&display=swap');\r\n\r\n/* http://meyerweb.com/eric/tools/css/reset/ \r\n   v2.0 | 20110126\r\n   License: none (public domain)\r\n*/\r\n\r\n* {\r\n\tbox-sizing: border-box;\r\n}\r\n\r\nhtml, body, div, span, applet, object, iframe,\r\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\na, abbr, acronym, address, big, cite, code,\r\ndel, dfn, em, img, ins, kbd, q, s, samp,\r\nsmall, strike, strong, sub, sup, tt, var,\r\nb, u, i, center,\r\ndl, dt, dd, ol, ul, li,\r\nfieldset, form, label, legend,\r\ntable, caption, tbody, tfoot, thead, tr, th, td,\r\narticle, aside, canvas, details, embed, \r\nfigure, figcaption, footer, header, hgroup, \r\nmenu, nav, output, ruby, section, summary,\r\ntime, mark, audio, video {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder: 0;\r\n\tfont-size: 100%;\r\n\tfont: inherit;\r\n\tvertical-align: baseline;\r\n}\r\n/* HTML5 display-role reset for older browsers */\r\narticle, aside, details, figcaption, figure, \r\nfooter, header, hgroup, menu, nav, section {\r\n\tdisplay: block;\r\n}\r\nbody {\r\n\tline-height: 1;\r\n    font-family: 'Open Sans', sans-serif;\r\n\tbackground: ${({ theme }) => theme.body};\r\n\tcolor: ${({ theme }) => theme.text};\r\n}\r\nol, ul {\r\n\tlist-style: none;\r\n}\r\nblockquote, q {\r\n\tquotes: none;\r\n}\r\nblockquote:before, blockquote:after,\r\nq:before, q:after {\r\n\tcontent: '';\r\n\tcontent: none;\r\n}\r\ntable {\r\n\tborder-collapse: collapse;\r\n\tborder-spacing: 0;\r\n}\r\n\r\n.app {\r\n\t/* padding: 2rem; */\r\n}`;\r\n\r\nexport default GlobalStyles;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useAppSelector, useAppDispatch } from \"../hooks/hooks\";\r\nimport { nextDay, prevDay } from \"../actions\";\r\n\r\nconst StyledHeader = styled.header`\r\n  height: 50px;\r\n  background: #000;\r\n  color: #fff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 1rem;\r\n\r\n  .header-nav {\r\n    color: red;\r\n  }\r\n\r\n  .header__title {\r\n  }\r\n`;\r\n\r\nfunction Header() {\r\n  const cart = useAppSelector((state) => state.cart);\r\n  const dispatch = useAppDispatch();\r\n  return (\r\n    <StyledHeader className=\"header\">\r\n      <div\r\n        className=\"header-nav header-nav__prev\"\r\n        onClick={() => {\r\n          dispatch(prevDay());\r\n        }}\r\n      >\r\n        Prev\r\n      </div>\r\n      <h1 className=\"header__title\">\r\n        DAY {cart && cart.findIndex((el) => el.active) + 1}\r\n      </h1>\r\n      <div\r\n        className=\"header-nav header-nav__next\"\r\n        onClick={() => {\r\n          dispatch(nextDay());\r\n        }}\r\n      >\r\n        Next\r\n      </div>\r\n    </StyledHeader>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { Dispatch, SetStateAction } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { NAV } from \"../App\";\r\n\r\ninterface Iprops {\r\n  nav: string;\r\n  setNav: Dispatch<SetStateAction<string>>;\r\n}\r\n\r\nconst StyledFooter = styled.header`\r\n  height: 50px;\r\n  background: #000;\r\n  color: #fff;\r\n  display: flex;\r\n\r\n  .footer__nav {\r\n    flex: 1;\r\n    text-align: center;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    &--active {\r\n      background: #ccc;\r\n    }\r\n\r\n    &:first-child {\r\n      border-right: 1px solid #888;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Footer({ nav, setNav }: Iprops) {\r\n  return (\r\n    <StyledFooter>\r\n      {(Object.keys(NAV) as (keyof typeof NAV)[]).map((key) => {\r\n        return (\r\n          <div\r\n            key={key}\r\n            onClick={() => {\r\n              setNav(NAV[key]);\r\n            }}\r\n            className={`footer__nav ${\r\n              nav === NAV[key] ? \"footer__nav--active\" : \"\"\r\n            }`}\r\n          >\r\n            {NAV[key as keyof { HOME: string; CART: string }]}\r\n          </div>\r\n        );\r\n      })}\r\n    </StyledFooter>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Home from \"./page/Home\";\r\nimport Cart from \"./page/Cart\";\r\nimport GlobalStyles from \"./components/styles/Global\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport Header from \"./components/Header\";\r\nimport Footer from \"./components/Footer\";\r\nimport { useAppDispatch } from \"./hooks/hooks\";\r\nimport { loadExistingCards } from \"./actions\";\r\nimport { useTransition, animated } from \"react-spring\";\r\n\r\nconst darkTheme = {\r\n  body: \"#000\",\r\n  text: \"#fff\",\r\n};\r\nconst lightTheme = {\r\n  body: \"#fff\",\r\n  text: \"#000\",\r\n};\r\n\r\nexport const NAV = {\r\n  HOME: \"home\",\r\n  CART: \"cart\",\r\n};\r\n\r\nfunction App() {\r\n  // const dispatch = useDispatch();\r\n\r\n  const [nav, setNav] = useState(NAV.HOME);\r\n  const dispatch = useAppDispatch();\r\n  const transition = useTransition(nav, {\r\n    from: { opacity: 0, transform: \"translate3d(100%,0,0)\" },\r\n    enter: { opacity: 1, transform: \"translate3d(0%,0,0)\" },\r\n    leave: { display: \"none\" },\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch<any>(loadExistingCards());\r\n  }, []);\r\n\r\n  return (\r\n    <ThemeProvider theme={lightTheme}>\r\n      <div className=\"app\">\r\n        <GlobalStyles />\r\n        <div>\r\n          <Header />\r\n\r\n          {transition((styles: any, item: any) => {\r\n            return item === NAV.HOME ? (\r\n              <animated.div style={styles}>\r\n                <Home />\r\n              </animated.div>\r\n            ) : (\r\n              <animated.div style={styles}>\r\n                <Cart />\r\n              </animated.div>\r\n            );\r\n          })}\r\n\r\n          <Footer nav={nav} setNav={setNav} />\r\n        </div>\r\n      </div>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\nimport localforage from \"localforage\";\r\n\r\nconst defaultCardsState = [\r\n  {\r\n    label: \"a\",\r\n    cards: [\r\n      \"https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg\",\r\n      \"https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg\",\r\n      \"https://dummyimage.com/600x400/000/fff\",\r\n      \"https://dummyimage.com/200x400/000/fff\",\r\n    ],\r\n  },\r\n  {\r\n    label: \"ad\",\r\n    cards: [\r\n      \"https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg\",\r\n      \"https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg\",\r\n      \"https://dummyimage.com/600x400/000/fff\",\r\n      \"https://dummyimage.com/200x400/000/fff\",\r\n    ],\r\n  },\r\n];\r\n\r\ninterface card {\r\n  active: Boolean;\r\n  cards: string[];\r\n}\r\n\r\nconst defaultCartsState: card[] = [\r\n  {\r\n    active: true,\r\n    cards: [],\r\n  },\r\n];\r\n\r\nconst cardsReducer = (state = defaultCardsState, action: any) => {\r\n  switch (action.type) {\r\n    case \"REMOVE_CARD\":\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst cartReducer = (state = defaultCartsState, action: any) => {\r\n  switch (action.type) {\r\n    case \"LOAD_CARDS\":\r\n      return (action.payload || defaultCartsState) as card[];\r\n    case \"ADD_TO_CART\":\r\n      let result = state.map((el) =>\r\n        el.active\r\n          ? { ...el, cards: [...el.cards, action.payload as string] }\r\n          : el\r\n      );\r\n      localforage.setItem(\"cards\", result);\r\n      return result;\r\n    case \"NEXT_DAY\":\r\n      let nextIndex = state.findIndex((el) => el.active) + 1;\r\n\r\n      if (state[nextIndex] === undefined) {\r\n        return [\r\n          ...state.map((el) => ({ ...el, active: false })),\r\n          ...defaultCartsState,\r\n        ];\r\n      }\r\n\r\n      return state.map((el, index) => ({\r\n        ...el,\r\n        active: index === nextIndex ? true : false,\r\n      }));\r\n    case \"PREV_DAY\":\r\n      let prevIndex = state.findIndex((el) => el.active) - 1;\r\n      if (prevIndex < 0) return state;\r\n\r\n      if (typeof state[prevIndex] === undefined) {\r\n        return [\r\n          ...state.map((el) => ({ ...el, active: false })),\r\n          ...defaultCartsState,\r\n        ];\r\n      }\r\n\r\n      return state.map((el, index) => ({\r\n        ...el,\r\n        active: index === prevIndex ? true : false,\r\n      }));\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  cards: cardsReducer,\r\n  cart: cartReducer,\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { configureStore, ThunkAction, Action } from \"@reduxjs/toolkit\";\r\nimport reducers from \"./reducers\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst root = ReactDOM.createRoot(\r\n    document.getElementById(\"root\") as HTMLElement\r\n);\r\n\r\nexport const store = configureStore({\r\n    reducer: reducers,\r\n    middleware: [thunk],\r\n});\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n    ReturnType,\r\n    RootState,\r\n    unknown,\r\n    Action<string>\r\n>;\r\n\r\nroot.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n);\r\n"],"sourceRoot":""}